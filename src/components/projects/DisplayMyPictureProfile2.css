/* ---------------------------
   Base photo (dimmed grayscale)
---------------------------- */
.profile-img-box2 img {
  filter: grayscale(100%) saturate(70%) contrast(1.05) brightness(50%);
  transition: filter 0.35s ease-in-out;
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* ---------------------------
   Grid slice overlay
---------------------------- */
.grid-container .profile-hit {
  position: relative;
  overflow: hidden; /* clip the slice inside the tile */
}

.grid-container .profile-hit::after {
  content: "";
  position: absolute;

  /* size equals the whole 3×3 photo area */
  width: calc(var(--photo-cols) * 100%);
  height: calc(var(--photo-rows) * 100%);

  /* shift so the correct slice sits inside this tile */
  left: calc(var(--ix) * -100%);
  top: calc(var(--iy) * -100%);

  /* set via JSX: style={{ "--profile-slice": `url(${img})` }} */
  background: var(--profile-slice) no-repeat 0 0 / 100% 100%;

  z-index: 20;
  pointer-events: none;

  /* hidden & gray by default */
  filter: grayscale(100%) saturate(70%) contrast(1.05);
  opacity: 0;
  transition: opacity 0.25s ease, filter 0.25s ease;
}

/* reveal color on hovered tile */
.grid-container .profile-hit:hover::after,
.grid-container .profile-hit:focus-within::after {
  opacity: 0.5;
  filter: grayscale(40%) saturate(100%) contrast(1.05);
}

/* ---------------------------
   Position photo in grid
---------------------------- */
.profile-img-box2 {
  position: relative;
  z-index: 5; /* above .grid-item, below slice overlays */
  display: flex;
  align-items: center;
  justify-content: center;
}

.grid-container > .profile-img-box2 {
  grid-area: 2 / 1 / 6 / 5; /* rows 3–5, cols 1–4 */
  min-width: 0;
  min-height: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ---------------------------
   Mobile override
---------------------------- */
@media (max-width: 768px) {
  .grid-container > .profile-img-box2 {
    grid-area: 11 / 1 / 15 / 5; /* rows 11–15, all 4 columns */
    min-width: 0;
    min-height: 0;
  }
}
